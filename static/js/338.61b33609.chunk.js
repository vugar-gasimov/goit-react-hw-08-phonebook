"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[338],{5338:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var r,i,a,o,s,c,u,l=t(9439),d=t(2791),m=t(9434),f=t(6916),h=function(n){return n.contacts.contacts.items},x=function(n){return n.filter.filter},b=function(n){return n.contacts.contacts.loading},p=function(n){return n.contacts.contacts.error},v=function(n){return n.contacts.contacts.deletedId},g=(0,f.P1)([h,x],(function(n,e){return n.filter((function(n){return n.name&&e&&n.name.toLowerCase().includes(e.toLowerCase().trim())}))})),j=t(3767),k=t(4976),w=t(2409),y=t(6454),Z=(0,y.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),C=(0,y.Z)("BookUser",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}]]),A=t(9085),P=t(6382),S=t(184),z=function(){var n=(0,d.useState)(""),e=(0,l.Z)(n,2),t=e[0],r=e[1],i=(0,d.useState)(""),a=(0,l.Z)(i,2),o=a[0],s=a[1],c=(0,d.useState)(!1),u=(0,l.Z)(c,2),f=u[0],x=u[1],b=(0,d.useState)(!1),p=(0,l.Z)(b,2),v=p[0],g=p[1],j=(0,m.v9)(h),y=(0,m.I0)(),Z=function(){r(""),s(""),x(!1),g(!1)};return(0,S.jsxs)(w.bz,{children:[(0,S.jsx)(w.oU,{children:"Name: "}),(0,S.jsx)(w.g8,{name:"name",required:!0,value:t,placeholder:"Add new name...",onChange:function(n){var e=n.target.value.trim(),t=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/.test(e);r(e),x(t)}}),!f&&(0,S.jsx)(w.$f,{children:"Please enter a valid name (alphabets, spaces, hyphens, apostrophes)."}),(0,S.jsx)(w.oU,{children:"Number: "}),(0,S.jsx)(w.g8,{type:"tel",name:"number",required:!0,value:o,placeholder:"Add new number...",onChange:function(n){var e=n.target.value.trim(),t=/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/.test(e);s(e),g(t)}}),!v&&(0,S.jsx)(w.$f,{children:"Please enter a valid phone number."}),(0,S.jsx)(w.Sq,{onClick:function(){if(f&&v)if(j.some((function(n){return n.name===t})))A.Am.info("This name already exists in the phonebook. \ud83d\ude05");else if(j.some((function(n){return n.number===o})))A.Am.info("This number already exists in the phonebook. \ud83d\ude09");else{var n={id:(0,P.nanoid)(),name:t,number:o};y((0,k.je)(n)),Z(),A.Am.success("New contact added")}else f||A.Am.error("Please enter a valid name"),v||A.Am.error("Please enter a valid phone number")},disabled:!f||!v,children:"Add contact"})]})},E=function(){var n=(0,m.v9)(x),e=(0,m.I0)();return(0,S.jsxs)(w.bz,{children:[(0,S.jsx)(w.oU,{children:"You can filter contacts here: "}),(0,S.jsx)(w.g8,{value:n,placeholder:"Feel free to filter contacts...",onChange:function(n){e((0,j.T)(n.target.value))},name:"filter",title:"Filtering contact list by name or number."})]})},N=t(168),L=t(4164),M=t(5867),I=(0,M.F4)(r||(r=(0,N.Z)(["\n  to {\n    filter: hue-rotate(1turn);\n  }\n"]))),q=M.ZP.div(i||(i=(0,N.Z)(["\n  position: fixed;\n\n  inset: 0;\n  z-index: 3;\n  display: flex;\n  justify-content: center;\n  overflow-y: scroll;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(10px);\n"]))),F=M.ZP.div(a||(a=(0,N.Z)(["\n  position: relative;\n  background-color: white;\n  padding: 20px;\n  overflow: hidden;\n  max-width: 1000px;\n  border-radius: 5px;\n  font-family: Arial, sans-serif;\n  min-width: 300px;\n  margin: 0 auto;\n  padding: 20px;\n\n  border: 1px solid transparent;\n  border-radius: 8px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  background-color: rgba(65, 88, 208, 0.5);\n  background: linear-gradient(\n    43deg,\n    rgba(65, 88, 208, 0.7) 0%,\n    rgba(200, 80, 192, 0.8) 46%,\n    rgba(255, 204, 112, 0.7) 100%\n  );\n  --border-radius: 4px;\n  --border-width: 4px;\n  appearance: none;\n  position: relative;\n  z-index: 102;\n  &::after {\n    --m-i: linear-gradient(#000, #000);\n    --m-o: content-box, padding-box;\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    padding: var(--border-width);\n    border-radius: var(--border-radius);\n    background-image: conic-gradient(\n      rgba(72, 140, 251, 1),\n      rgba(41, 219, 188, 1),\n      rgba(221, 245, 5, 1),\n      rgba(255, 159, 14, 1),\n      rgba(228, 64, 187, 1),\n      rgba(101, 90, 220, 1),\n      rgba(72, 140, 251, 1)\n    );\n    -webkit-mask-image: var(--m-i), var(--m-i);\n    mask-image: var(--m-i), var(--m-i);\n    -webkit-mask-origin: var(--m-o);\n    mask-origin: var(--m-o);\n    -webkit-mask-clip: var(--m-o);\n    mask-composite: exclude;\n    -webkit-mask-composite: destination-out;\n    filter: hue-rotate(0);\n    animation: "," linear 1000ms infinite;\n    animation-play-state: running;\n  }\n"])),I),O=M.ZP.button(o||(o=(0,N.Z)(["\n  position: absolute;\n  z-index: 101;\n  top: 5px;\n  right: 5px;\n  background-color: transparent;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n"]))),T=M.ZP.h1(s||(s=(0,N.Z)(["\n  font-size: 24px;\n  margin: 0;\n  color: #fff;\n  text-shadow: 0 0 3px #fff;\n"]))),$=(M.ZP.p(c||(c=(0,N.Z)(["\n  margin: 0;\n"]))),document.querySelector("#modal")),D=(M.ZP.div(u||(u=(0,N.Z)(["\n  overflow-y: scroll;\n  height: 400px;\n"]))),function(n){var e=n.children,t=n.close,r=(0,d.useCallback)((function(n){console.log(n),"Escape"===n.key&&(t(),A.Am.info("Modal closed by Escape"))}),[t]);(0,d.useEffect)((function(){return document.addEventListener("keydown",r),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",r),document.body.style.overflow="visible"}}),[t,r]);return L.createPortal((0,S.jsx)(q,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,S.jsxs)(F,{children:[(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(T,{children:"Contact"})}),(0,S.jsx)(O,{onClick:t,children:"\xd7"}),e]})}),$)});function U(n){var e=n.contact,t=(0,d.useState)(e.name),r=(0,l.Z)(t,2),i=r[0],a=r[1],o=(0,d.useState)(e.number),s=(0,l.Z)(o,2),c=s[0],u=s[1],f=(0,m.v9)(v),h=(0,m.v9)(b),x=(0,m.v9)(p),g=(0,m.I0)();(0,d.useEffect)((function(){x&&A.Am.error(x)}),[x,h]);var j=function(n){var t={id:e.id,name:i,number:c};g((0,k.hx)(t)),P()},y=function(){var n=(0,d.useState)(!1),e=(0,l.Z)(n,2),t=e[0],r=e[1];return{isOpen:t,openModal:function(){r(!0)},closeModal:function(){r(!1)}}}(),Z=y.isOpen,C=y.openModal,P=y.closeModal;return e?(0,S.jsxs)(w.SA,{children:[e.name,": ",e.number,(0,S.jsxs)(w.YD,{children:[(0,S.jsx)(w.m1,{onClick:C,children:"Edit"}),Z?(0,S.jsx)(D,{close:P,children:(0,S.jsxs)("form",{onSubmit:j,onKeyPress:function(n){"Enter"===n.key&&(n.preventDefault(),j())},children:[(0,S.jsx)("img",{alt:e.name,src:e.image,width:100,height:100}),(0,S.jsx)("hr",{}),(0,S.jsx)(w.iO,{children:"Name:"}),(0,S.jsx)(w.SP,{type:"text",value:i,onChange:function(n){return a(n.target.value)}}),(0,S.jsx)(w.iO,{children:"Number:"}),(0,S.jsx)(w.SP,{type:"tel",value:c,onChange:function(n){return u(n.target.value)}}),(0,S.jsx)("br",{}),(0,S.jsx)(w.os,{type:"submit",children:"Submit"})]})}):null,(0,S.jsx)(w.m1,{onClick:function(){return g((0,k.xX)(e.id))},disabled:h&&f===e.id,children:h&&f===e.id?"Deleting...":"Delete"})]})]}):null}var _=function(){var n=(0,m.v9)(h),e=(0,m.v9)(x),t=(0,m.v9)(b),r=n.filter((function(n){return n.name&&e&&n.name.toLowerCase().includes(e.toLowerCase().trim())||n.number&&n.number.includes(e.trim())}));return(0,S.jsxs)(w.bz,{children:["Contact List",t&&(0,S.jsx)(w.u,{children:(0,S.jsx)("div",{className:"loader"})}),(0,S.jsx)(w.N3,{children:r.map((function(n){return(0,S.jsx)(U,{contact:n},n.id)}))})]})},H=function(){var n=(0,m.I0)(),e=(0,m.v9)(h),t=(0,m.v9)(x),r=(0,m.v9)(g);(0,d.useEffect)((function(){n((0,k.n7)("contacts"))}),[n]);var i=(0,d.useState)(!0),a=(0,l.Z)(i,2),o=a[0],s=a[1];return(0,d.useEffect)((function(){var n=setInterval((function(){s(!o)}),4e3);return function(){return clearInterval(n)}}),[o]),(0,S.jsxs)(w.OQ,{children:[(0,S.jsxs)(w.R9,{children:[(0,S.jsxs)(w.y4,{$active:o,children:["PhoneBook ",(0,S.jsx)(Z,{strokeWidth:1.5})]}),(0,S.jsx)(z,{isNameExists:function(n){return e.some((function(e){return e.name===n}))},isNumberExists:function(n){return e.some((function(e){return e.phoneNumber===n}))}})]}),(0,S.jsxs)(w.vp,{children:[(0,S.jsxs)(w.pe,{children:["Contacts ",(0,S.jsx)(C,{strokeWidth:1.5})]}),(0,S.jsx)(E,{setFilter:function(e){n((0,j.T)(e))},filter:t}),(0,S.jsx)(_,{contacts:r,filter:t})]})]})}}}]);
//# sourceMappingURL=338.61b33609.chunk.js.map