"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[413],{740:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r=t(439),i=t(791),o=t(434),a="NOT_FOUND";var u=function(n,e){return n===e};function c(n,e){var t="object"===typeof e?e:{equalityCheck:e},r=t.equalityCheck,i=void 0===r?u:r,o=t.maxSize,c=void 0===o?1:o,s=t.resultEqualityCheck,l=function(n){return function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}}(i),d=1===c?function(n){var e;return{get:function(t){return e&&n(e.key,t)?e.value:a},put:function(n,t){e={key:n,value:t}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(l):function(n,e){var t=[];function r(n){var r=t.findIndex((function(t){return e(n,t.key)}));if(r>-1){var i=t[r];return r>0&&(t.splice(r,1),t.unshift(i)),i.value}return a}return{get:r,put:function(e,i){r(e)===a&&(t.unshift({key:e,value:i}),t.length>n&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(c,l);function f(){var e=d.get(arguments);if(e===a){if(e=n.apply(null,arguments),s){var t=d.getEntries(),r=t.find((function(n){return s(n.value,e)}));r&&(e=r.value)}d.put(arguments,e)}return e}return f.clearCache=function(){return d.clear()},f}function s(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function l(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o,a=0,u={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(u=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=u,d=l.memoizeOptions,f=void 0===d?t:d,m=Array.isArray(f)?f:[f],p=s(r),h=n.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(m)),v=n((function(){for(var n=[],e=p.length,t=0;t<e;t++)n.push(p[t].apply(null,arguments));return o=h.apply(null,n)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:h,dependencies:p,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),v};return i}var d,f,m,p,h,v,x,b=l(c),g=function(n){return n.contacts.contacts.items},y=function(n){return n.filter.filter},j=function(n){return n.contacts.contacts.loading},k=function(n){return n.contacts.contacts.error},w=function(n){return n.contacts.contacts.deletedId},Z=b([g,y],(function(n,e){return n.filter((function(n){return n.name&&e&&n.name.toLowerCase().includes(e.toLowerCase().trim())}))})),A=t(767),C=t(276),E=t(409),S=t(454),z=(0,S.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),P=(0,S.Z)("BookUser",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}]]),N=t(85),O=t(829),q=t(184),F=function(){var n=(0,i.useState)(""),e=(0,r.Z)(n,2),t=e[0],a=e[1],u=(0,i.useState)(""),c=(0,r.Z)(u,2),s=c[0],l=c[1],d=(0,i.useState)(!1),f=(0,r.Z)(d,2),m=f[0],p=f[1],h=(0,i.useState)(!1),v=(0,r.Z)(h,2),x=v[0],b=v[1],y=(0,o.v9)(g),j=(0,o.I0)(),k=function(){a(""),l(""),p(!1),b(!1)};return(0,q.jsxs)(E.bz,{children:[(0,q.jsx)(E.oU,{children:"Name: "}),(0,q.jsx)(E.g8,{name:"name",required:!0,value:t,placeholder:"Add new name...",onChange:function(n){var e=n.target.value.trim(),t=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/.test(e);a(e),p(t)}}),!m&&(0,q.jsx)(E.$f,{children:"Please enter a valid name (alphabets, spaces, hyphens, apostrophes)."}),(0,q.jsx)(E.oU,{children:"Number: "}),(0,q.jsx)(E.g8,{type:"tel",name:"number",required:!0,value:s,placeholder:"Add new number...",onChange:function(n){var e=n.target.value.trim(),t=/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/.test(e);l(e),b(t)}}),!x&&(0,q.jsx)(E.$f,{children:"Please enter a valid phone number."}),(0,q.jsx)(E.Sq,{onClick:function(){if(m&&x)if(y.some((function(n){return n.name===t})))N.Am.info("This name already exists in the phonebook. \ud83d\ude05");else if(y.some((function(n){return n.number===s})))N.Am.info("This number already exists in the phonebook. \ud83d\ude09");else{var n={id:(0,O.x0)(),name:t,number:s};j((0,C.je)(n)),k(),N.Am.success("New contact added")}else m||N.Am.error("Please enter a valid name"),x||N.Am.error("Please enter a valid phone number")},disabled:!m||!x,children:"Add contact"})]})},I=function(){var n=(0,o.v9)(y),e=(0,o.I0)();return(0,q.jsxs)(E.bz,{children:[(0,q.jsx)(E.oU,{children:"You can filter contacts here: "}),(0,q.jsx)(E.g8,{value:n,placeholder:"Feel free to filter contacts...",onChange:function(n){e((0,A.T)(n.target.value))},name:"filter",title:"Filtering contact list by name or number."})]})},L=t(168),M=t(164),T=t(867),D=(0,T.F4)(d||(d=(0,L.Z)(["\n  to {\n    filter: hue-rotate(1turn);\n  }\n"]))),U=T.ZP.div(f||(f=(0,L.Z)(["\n  position: fixed;\n\n  inset: 0;\n  z-index: 3;\n  display: flex;\n  justify-content: center;\n  overflow-y: scroll;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(10px);\n"]))),_=T.ZP.div(m||(m=(0,L.Z)(["\n  position: relative;\n  background-color: white;\n  padding: 20px;\n  overflow: hidden;\n  max-width: 1000px;\n  border-radius: 5px;\n  font-family: Arial, sans-serif;\n  min-width: 300px;\n  margin: 0 auto;\n  padding: 20px;\n\n  border: 1px solid transparent;\n  border-radius: 8px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  background-color: rgba(65, 88, 208, 0.5);\n  background: linear-gradient(\n    43deg,\n    rgba(65, 88, 208, 0.7) 0%,\n    rgba(200, 80, 192, 0.8) 46%,\n    rgba(255, 204, 112, 0.7) 100%\n  );\n  --border-radius: 4px;\n  --border-width: 4px;\n  appearance: none;\n  position: relative;\n  z-index: 102;\n  &::after {\n    --m-i: linear-gradient(#000, #000);\n    --m-o: content-box, padding-box;\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    padding: var(--border-width);\n    border-radius: var(--border-radius);\n    background-image: conic-gradient(\n      rgba(72, 140, 251, 1),\n      rgba(41, 219, 188, 1),\n      rgba(221, 245, 5, 1),\n      rgba(255, 159, 14, 1),\n      rgba(228, 64, 187, 1),\n      rgba(101, 90, 220, 1),\n      rgba(72, 140, 251, 1)\n    );\n    -webkit-mask-image: var(--m-i), var(--m-i);\n    mask-image: var(--m-i), var(--m-i);\n    -webkit-mask-origin: var(--m-o);\n    mask-origin: var(--m-o);\n    -webkit-mask-clip: var(--m-o);\n    mask-composite: exclude;\n    -webkit-mask-composite: destination-out;\n    filter: hue-rotate(0);\n    animation: "," linear 1000ms infinite;\n    animation-play-state: running;\n  }\n"])),D),R=T.ZP.button(p||(p=(0,L.Z)(["\n  position: absolute;\n  z-index: 101;\n  top: 5px;\n  right: 5px;\n  background-color: transparent;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n"]))),$=T.ZP.h1(h||(h=(0,L.Z)(["\n  font-size: 24px;\n  margin: 0;\n  color: #fff;\n  text-shadow: 0 0 3px #fff;\n"]))),H=(T.ZP.p(v||(v=(0,L.Z)(["\n  margin: 0;\n"]))),document.querySelector("#modal")),B=(T.ZP.div(x||(x=(0,L.Z)(["\n  overflow-y: scroll;\n  height: 400px;\n"]))),function(n){var e=n.children,t=n.close,r=(0,i.useCallback)((function(n){console.log(n),"Escape"===n.key&&(t(),N.Am.info("Modal closed by Escape"))}),[t]);(0,i.useEffect)((function(){return document.addEventListener("keydown",r),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",r),document.body.style.overflow="visible"}}),[t,r]);return M.createPortal((0,q.jsx)(U,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,q.jsxs)(_,{children:[(0,q.jsx)(q.Fragment,{children:(0,q.jsx)($,{children:"Contact"})}),(0,q.jsx)(R,{onClick:t,children:"\xd7"}),e]})}),H)});function W(n){var e=n.contact,t=(0,i.useState)(e.name),a=(0,r.Z)(t,2),u=a[0],c=a[1],s=(0,i.useState)(e.number),l=(0,r.Z)(s,2),d=l[0],f=l[1],m=(0,o.v9)(w),p=(0,o.v9)(j),h=(0,o.v9)(k),v=(0,o.I0)();(0,i.useEffect)((function(){h&&N.Am.error(h)}),[h,p]);var x=function(n){var t={id:e.id,name:u,number:d};v((0,C.hx)(t)),Z()},b=function(){var n=(0,i.useState)(!1),e=(0,r.Z)(n,2),t=e[0],o=e[1];return{isOpen:t,openModal:function(){o(!0)},closeModal:function(){o(!1)}}}(),g=b.isOpen,y=b.openModal,Z=b.closeModal;return e?(0,q.jsxs)(E.SA,{children:[e.name,": ",e.number,(0,q.jsxs)(E.YD,{children:[(0,q.jsx)(E.m1,{onClick:y,children:"Edit"}),g?(0,q.jsx)(B,{close:Z,children:(0,q.jsxs)("form",{onSubmit:x,onKeyPress:function(n){"Enter"===n.key&&(n.preventDefault(),x())},children:[(0,q.jsx)("img",{alt:e.name,src:e.image,width:100,height:100}),(0,q.jsx)("hr",{}),(0,q.jsx)(E.iO,{children:"Name:"}),(0,q.jsx)(E.SP,{type:"text",value:u,onChange:function(n){return c(n.target.value)}}),(0,q.jsx)(E.iO,{children:"Number:"}),(0,q.jsx)(E.SP,{type:"tel",value:d,onChange:function(n){return f(n.target.value)}}),(0,q.jsx)("br",{}),(0,q.jsx)(E.os,{type:"submit",children:"Submit"})]})}):null,(0,q.jsx)(E.m1,{onClick:function(){return v((0,C.xX)(e.id))},disabled:p&&m===e.id,children:p&&m===e.id?"Deleting...":"Delete"})]})]}):null}var Y=function(){var n=(0,o.v9)(g),e=(0,o.v9)(y),t=(0,o.v9)(j),r=n.filter((function(n){return n.name&&e&&n.name.toLowerCase().includes(e.toLowerCase().trim())||n.number&&n.number.includes(e.trim())}));return(0,q.jsxs)(E.bz,{children:["Contact List",t&&(0,q.jsx)(E.u,{children:(0,q.jsx)("div",{className:"loader"})}),(0,q.jsx)(E.N3,{children:r.map((function(n){return(0,q.jsx)(W,{contact:n},n.id)}))})]})},K=function(){var n=(0,o.I0)(),e=(0,o.v9)(g),t=(0,o.v9)(y),a=(0,o.v9)(Z);(0,i.useEffect)((function(){n((0,C.n7)("contacts"))}),[n]);var u=(0,i.useState)(!0),c=(0,r.Z)(u,2),s=c[0],l=c[1];return(0,i.useEffect)((function(){var n=setInterval((function(){l(!s)}),4e3);return function(){return clearInterval(n)}}),[s]),(0,q.jsxs)(E.OQ,{children:[(0,q.jsxs)(E.R9,{children:[(0,q.jsxs)(E.y4,{active:s,children:["PhoneBook ",(0,q.jsx)(z,{strokeWidth:1.5})]}),(0,q.jsx)(F,{isNameExists:function(n){return e.some((function(e){return e.name===n}))},isNumberExists:function(n){return e.some((function(e){return e.phoneNumber===n}))}})]}),(0,q.jsxs)(E.vp,{children:[(0,q.jsxs)(E.pe,{children:["Contacts ",(0,q.jsx)(P,{strokeWidth:1.5})]}),(0,q.jsx)(I,{setFilter:function(e){n((0,A.T)(e))},filter:t}),(0,q.jsx)(Y,{contacts:a,filter:t})]})]})}}}]);
//# sourceMappingURL=413.aefdb6cf.chunk.js.map